function setThemeFromLocalStorage(){const e=document.querySelectorAll(".finder-dark, .menu__item-toggle, .desktop, .menu__container, .border-dark, .system-text, .toggle, .toggle__btn");for(let t of e)t.classList.add(isThemeSelected()?"dark-mode":"light-mode")}function setThemeSwitchState(){document.querySelector(".toggle").checked=isThemeSelected()}function isThemeSelected(){return"dark"===localStorage.getItem("theme")}function toggleTheme(){const e=document.querySelectorAll(".finder-dark, .menu__item-toggle, .desktop, .menu__container, .border-dark, .system-text, .toggle, .toggle__btn"),t=isThemeSelected();for(let i of e)i.classList.toggle("dark-mode",!t),i.classList.toggle("light-mode",t);localStorage.setItem("theme",t?"light":"dark")}setThemeFromLocalStorage(),setThemeSwitchState(),document.querySelector(".toggle").addEventListener("click",toggleTheme),$(document).ready((function(){$(".frame").each((function(){var e=$(this).attr("id"),t=JSON.parse(localStorage.getItem(e));t&&($(this).css({top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"}),t.isOpen&&$(this).addClass("is--open")),$(this).resizable({stop:function(t,i){var o={top:i.position.top,left:i.position.left,width:i.size.width,height:i.size.height,isOpen:$(this).hasClass("is--open")};localStorage.setItem(e,JSON.stringify(o))}}).draggable({stop:function(t,i){var o={top:i.position.top,left:i.position.left,width:i.helper.width(),height:i.helper.height(),isOpen:$(this).hasClass("is--open")};localStorage.setItem(e,JSON.stringify(o))}}).on("transitionend",(function(t){if($(t.target).hasClass("frame")&&"transform"===t.propertyName){var i={top:$(this).position().top,left:$(this).position().left,width:$(this).width(),height:$(this).height(),isOpen:$(this).hasClass("is--open")};localStorage.setItem(e,JSON.stringify(i))}})),$(this).on("click",(function(){var t=JSON.parse(localStorage.getItem(e))||{};t.isOpen=$(this).hasClass("is--open"),localStorage.setItem(e,JSON.stringify(t))})),$(this).find(".finder").each((function(){var e=$(this).attr("id"),t=JSON.parse(localStorage.getItem(e));t&&t.isOpen&&$(this).addClass("is--open"),$(this).on("click",(function(){var t=JSON.parse(localStorage.getItem(e))||{};t.isOpen=$(this).hasClass("is--open"),localStorage.setItem(e,JSON.stringify(t))}))}))}))})),$(".frame").mousedown((function(){$(".active").removeClass("active"),$(this).addClass("active")})),$(".close").on("click",(function(){let e=$(this).closest(".frame").attr("id");$("#"+e).find(".open-interaction").removeClass("is--open"),$(this).closest(".frame").removeClass("is--open"),$(this).closest(".finder").removeClass("is--open")})),$(".icon__overlay").on("click",(function(){let e=$(this).closest(".icon").attr("id");$(".is--inverted").removeClass("is--inverted"),$(".in-view").addClass("deactivate"),$(".trigger").removeClass("trigger"),$(".active").removeClass("trigger"),$("."+e).find(".in-view").removeClass("deactivate"),$("."+e).addClass("active"),$("."+e).addClass("is--open"),$(this).removeClass("is--triggered"),$("."+e).find(".open-interaction").addClass("is--open"),setTimeout((function(){$("."+e).find(".interaction").addClass("trigger"),setTimeout((function(){$("."+e).find(".finder").addClass("is--open"),$("."+e).find(".finder").click(),$("."+e).find(".open-interaction").removeClass("is--open")}),450)}),100)})),$(".icon").on("mousedown",(function(){$(".in-view").addClass("deactivate"),$(".active").removeClass("active"),$(".is--inverted").removeClass("is--inverted"),$(".is--triggered").removeClass("is--triggered");let e=$(this).attr("id");$(this).addClass("is--inverted"),$(this).find(".icon__overlay").addClass("is--triggered"),$("."+e).addClass("active"),$("."+e).find(".in-view").removeClass("deactivate"),$(document).on("click.postClick",(function(e){$(e.target).closest(".icon").length||($(".is--inverted").removeClass("is--inverted"),$(".is--triggered").removeClass("is--triggered"),$(document).off("click.postClick"))}))})),$(".frame").resizable({alsoResize:".active",resizeWidthFrom:"right",containment:".desktop",resizeHeightFrom:"bottom",minWidth:200,minHeight:59}).draggable({containment:".desktop",handle:".move, .in-view"}),$(".frame").on("mousedown",(function(){$(".in-view").addClass("deactivate"),$(this).find(".deactivate").removeClass("deactivate")})),$(".desktop__fill").on("click",(function(){$(".frame").mousedown()})),$(".finder__button").on("mousedown click",(function(){$(this).find(".finder__trigger").addClass("show"),$(this).find(".finder__button-inner").addClass("hide")})),$(".finder__button").on("mouseup",(function(){$(this).find(".finder__trigger").removeClass("show"),$(this).find(".finder__button-inner").removeClass("hide")})),$(".finder__button").on("mouseleave",(function(){$(this).find(".finder__trigger").removeClass("show"),$(this).find(".finder__button-inner").removeClass("hide")})),$(".expand").on("click",(function(){$(this).closest(".frame").toggleClass("expand"),$(".move").toggleClass("not-clickable"),$(".finder__resize").toggleClass("is--disabled")})),$(".alert-open").on("click",(function(){$(".menu").addClass("is--behind")})),$(".alert-close").on("click",(function(){$(".is--behind").removeClass("is--behind")})),$(".empty-trash").on("click",(function(){$(".trash__full").addClass("hide"),$(".trash__empty").removeClass("hide")})),$(".btn").on("mousedown",(function(){$(this).css("filter","invert(100%)")})),$(".btn").on("mouseup",(function(){$(this).css("filter","none")})),$(".btn").on("mouseleave",(function(){$(this).css("filter","none")})),$(".alert-open").on("click",(function(){$(this).siblings(".alert__wrapper").addClass("is--open")})),$(".alert-close, .btn-confirm").on("click",(function(){$(this).closest(".alert__wrapper").removeClass("is--open")})),$(".alert__sosumi").on("click",(function(){$(".sosumi").click()}));let searchField=$(".field.filter"),addItemField=$(".field.add"),addItemForm=$(".add-to-do-form"),toDoList=".to-do_list",toDoItem=".to-do_item",templateItem=$(".hidden-template-items").find(".to-do_item").eq(0),toDoItems=[{name:"Wash clothes",id:0,completed:!1},{name:"Pack bags",id:1,completed:!0},{name:"Book flight",id:2,completed:!1}];function countItems(){let e=$(".to-do_list .to-do_item").length;$(".todo-counter").text(e)}function pushToArray(e){let t,i=toDoItems[toDoItems.length-1];t=void 0!==i?i.id+1:0;let o={name:e,id:t,completed:!1};toDoItems.push(o),updateSiteCards()}function updateSiteCards(){$(toDoList).html(""),toDoItems.forEach((function(e,t){let i=templateItem.clone();i.attr("data-id",e.id),i.find(".to-do_item-title").text(e.name),e.completed&&i.addClass("completed"),i.appendTo(toDoList)})),countItems()}function resetTheCookie(){localStorage.setItem("todo",JSON.stringify(toDoItems))}function checkFilter(){let e=searchField.val(),t=$(toDoList).find(toDoItem);e.length?(t.css("display","none"),t.each((function(t){$(this).find(".to-do_item-title").text().toLowerCase().includes(e.toLowerCase())&&$(this).css("display","flex")}))):t.css("display","flex")}null==localStorage.getItem("todo")?resetTheCookie():toDoItems=JSON.parse(localStorage.getItem("todo")),updateSiteCards(),$(document).on("click",".to-do_item-icon",(function(){let e=$(this).closest(toDoItem),t=+e.attr("data-id");toDoItems.forEach((function(e,i){e.id==t&&toDoItems.splice(i,1)})),e.remove(),resetTheCookie(),countItems()})),$(document).on("click",toDoItem,(function(){let e=+$(this).attr("data-id");$(this).toggleClass("completed"),toDoItems.forEach((function(t,i){t.id==e&&(1==t.completed?t.completed=!1:t.completed=!0)})),resetTheCookie()})),addItemForm.on("submit",(function(){let e=addItemField.val();return e.length&&(pushToArray(e),resetTheCookie(),addItemField.val("")),checkFilter(),countItems(),!1})),searchField.on("keyup",(function(){checkFilter()}));const audioElement=document.getElementById("audio"),playSun=document.querySelector(".sosumi");playSun.addEventListener("click",(function(){audioElement.play()}));